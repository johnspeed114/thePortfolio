"use strict";(self.webpackChunkthe_portfolio=self.webpackChunkthe_portfolio||[]).push([[948],{6948:function(e,r,t){t.r(r),t.d(r,{default:function(){return h}});var a=t(3433),n=t(4165),s=t(5861),o=t(9439),c=t(2791),i=t(5826),l=t(9140),u=t(184),d=function(e){var r=e.number,t=(e.userId,e.displayName),a=e.picture,n=e.score;return(0,u.jsxs)("div",{className:"leaderboard__container",children:[(0,u.jsx)("div",{className:"leaderboard__itemNum",children:r+1}),(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"leaderboard__profilePic",style:{backgroundImage:"url(".concat(a,")")}})}),(0,u.jsx)("div",{children:t}),(0,u.jsxs)("div",{className:"leaderboard__points",children:[" ",n,"pt"]})]})},h=function(){var e=(0,c.useState)([]),r=(0,o.Z)(e,2),t=r[0],h=r[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://webcdn.17app.co/campaign/pretest/data.json");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Something went wrong");case 6:return e.next=8,r.json();case 8:t=e.sent,h(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){var e=setInterval((function(){var e=(0,a.Z)(t),r=Math.floor(Math.random()*(e.length-1));switch(Math.floor(2*Math.random())){case 0:e[r].score+=Math.floor(500*Math.random());break;case 1:e[r].score-=Math.floor(500*Math.random());break;default:console.log("wrong status")}e=e.sort((function(e,r){return r.score-e.score})),h(e)}),100);return function(){return clearInterval(e)}}),[t]),(0,u.jsxs)("div",{className:"leaderboard",children:[(0,u.jsx)("h2",{className:"mb-3 text-center text-light leaderboard__title",children:"Streamer Leaderboard"}),(0,u.jsx)(i.t.Group,{values:t,onReorder:h,as:"div",children:(0,u.jsx)(l.Z,{children:t.map((function(e,r){return(0,u.jsx)(i.t.Item,{as:"div",value:e,children:(0,u.jsx)(d,{number:r,userId:e.userID,displayName:e.displayName,picture:e.picture,score:e.score},r)},e.userID)}))})})]})}}}]);
//# sourceMappingURL=948.4b7962a9.chunk.js.map