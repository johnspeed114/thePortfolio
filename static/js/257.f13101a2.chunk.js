"use strict";(self.webpackChunkthe_portfolio=self.webpackChunkthe_portfolio||[]).push([[257],{8257:function(r,e,n){n.r(e),n.d(e,{default:function(){return D}});var t=n(3433),a=n(4165),o=n(5861),i=n(9439),u=n(2791),c=n(1413),s=n(5987),d=n(5956),l=(0,u.createContext)(null),f=n(453),v=n(9829),m=n(3898),h=n(3478);var x=["children","as","axis","onReorder","values"];var p=(0,u.forwardRef)((function(r,e){var n=r.children,t=r.as,a=void 0===t?"ul":t,o=r.axis,i=void 0===o?"y":o,p=r.onReorder,b=r.values,Z=(0,s.Z)(r,x),N=(0,v.h)((function(){return(0,f.E)(a)})),j=[],I=(0,u.useRef)(!1);(0,d.k)(Boolean(b),"Reorder.Group must be provided a values prop");var w={axis:i,registerItem:function(r,e){e&&-1===j.findIndex((function(e){return r===e.value}))&&(j.push({value:r,layout:e[i]}),j.sort(y))},updateOrder:function(r,e,n){if(!I.current){var t=function(r,e,n,t){if(!t)return r;var a=r.findIndex((function(r){return r.value===e}));if(-1===a)return r;var o=t>0?1:-1,i=r[a+o];if(!i)return r;var u=r[a],c=i.layout,s=(0,h.C)(c.min,c.max,.5);return 1===o&&u.layout.max+n>s||-1===o&&u.layout.min+n<s?(0,m.uo)(r,a,a+o):r}(j,r,e,n);j!==t&&(I.current=!0,p(t.map(g).filter((function(r){return-1!==b.indexOf(r)}))))}}};return(0,u.useEffect)((function(){I.current=!1})),u.createElement(N,(0,c.Z)((0,c.Z)({},Z),{},{ref:e,ignoreStrict:!0}),u.createElement(l.Provider,{value:w},n))}));function g(r){return r.value}function y(r,e){return r.layout.min-e.layout.min}var b=n(937),Z=n(9090);function N(r){var e=(0,v.h)((function(){return(0,b.B)(r)}));if((0,u.useContext)(Z._).isStatic){var n=(0,u.useState)(r),t=(0,i.Z)(n,2)[1];(0,u.useEffect)((function(){return e.on("change",t)}),[])}return e}var j=n(5544),I=function(r){return function(r){return"object"===typeof r&&r.mix}(r)?r.mix:void 0};var w=n(3272),k=n(2199);function E(r,e,n,t){var a="function"===typeof e?e:function(){var r=!Array.isArray(arguments.length<=0?void 0:arguments[0]),e=r?0:-1,n=0+e<0||arguments.length<=0+e?void 0:arguments[0+e],t=1+e<0||arguments.length<=1+e?void 0:arguments[1+e],a=2+e<0||arguments.length<=2+e?void 0:arguments[2+e],o=3+e<0||arguments.length<=3+e?void 0:arguments[3+e],i=(0,j.s)(t,a,(0,c.Z)({mixer:I(a[0])},o));return r?i(n):i}(e,n,t);return Array.isArray(r)?C(r,a):C([r],(function(r){var e=(0,i.Z)(r,1)[0];return a(e)}))}function C(r,e){var n=(0,v.h)((function(){return[]}));return function(r,e){var n=N(e()),t=function(){return n.set(e())};return t(),(0,k.L)((function(){var e=function(){return w.Wi.update(t,!1,!0)},n=r.map((function(r){return r.on("change",e)}));return function(){n.forEach((function(r){return r()})),(0,w.Pn)(t)}})),n}(r,(function(){n.length=0;for(var t=r.length,a=0;a<t;a++)n[a]=r[a].get();return e(n)}))}var R=n(1453),_=["children","style","value","as","onDrag","layout"];function P(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,R.i)(r)?r:N(e)}var M={Group:p,Item:(0,u.forwardRef)((function(r,e){var n=r.children,t=r.style,a=void 0===t?{}:t,o=r.value,m=r.as,h=void 0===m?"li":m,x=r.onDrag,p=r.layout,g=void 0===p||p,y=(0,s.Z)(r,_),b=(0,v.h)((function(){return(0,f.E)(h)})),Z=(0,u.useContext)(l),N={x:P(a.x),y:P(a.y)},j=E([N.x,N.y],(function(r){var e=(0,i.Z)(r,2),n=e[0],t=e[1];return n||t?1:"unset"})),I=(0,u.useRef)(null);(0,d.k)(Boolean(Z),"Reorder.Item must be a child of Reorder.Group");var w=Z.axis,k=Z.registerItem,C=Z.updateOrder;return(0,u.useEffect)((function(){k(o,I.current)}),[Z]),u.createElement(b,(0,c.Z)((0,c.Z)({drag:w},y),{},{dragSnapToOrigin:!0,style:(0,c.Z)((0,c.Z)({},a),{},{x:N.x,y:N.y,zIndex:j}),layout:g,onDrag:function(r,e){var n=e.velocity;n[w]&&C(o,N[w].get(),n[w]),x&&x(r,e)},onLayoutMeasure:function(r){I.current=r},ref:e,ignoreStrict:!0}),n)}))},S=n(9140),O=n(184),B=function(r){var e=r.number,n=(r.userId,r.displayName),t=r.picture,a=r.score;return(0,O.jsxs)("div",{className:"leaderboard__container",children:[(0,O.jsx)("div",{className:"leaderboard__itemNum",children:e+1}),(0,O.jsx)("div",{children:(0,O.jsx)("div",{className:"leaderboard__profilePic",style:{backgroundImage:"url(".concat(t,")")}})}),(0,O.jsx)("div",{children:n}),(0,O.jsxs)("div",{className:"leaderboard__points",children:[" ",a,"pt"]})]})},D=function(){var r=(0,u.useState)([]),e=(0,i.Z)(r,2),n=e[0],c=e[1];return(0,u.useEffect)((function(){var r=function(){var r=(0,o.Z)((0,a.Z)().mark((function r(){var e,n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://webcdn.17app.co/campaign/pretest/data.json");case 3:if((e=r.sent).ok){r.next=6;break}throw new Error("Something went wrong");case 6:return r.next=8,e.json();case 8:n=r.sent,c(n),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(){return r.apply(this,arguments)}}();r()}),[]),(0,u.useEffect)((function(){var r=setInterval((function(){var r=(0,t.Z)(n),e=Math.floor(Math.random()*(r.length-1));switch(Math.floor(2*Math.random())){case 0:r[e].score+=Math.floor(500*Math.random());break;case 1:r[e].score-=Math.floor(500*Math.random());break;default:console.log("wrong status")}r=r.sort((function(r,e){return e.score-r.score})),c(r)}),100);return function(){return clearInterval(r)}}),[n]),(0,O.jsxs)("div",{className:"leaderboard",children:[(0,O.jsx)("h2",{className:"mb-3 text-center text-light leaderboard__title",children:"Streamer Leaderboard"}),(0,O.jsx)(M.Group,{values:n,onReorder:c,as:"div",children:(0,O.jsx)(S.Z,{children:n.map((function(r,e){return(0,O.jsx)(M.Item,{as:"div",value:r,children:(0,O.jsx)(B,{number:e,userId:r.userID,displayName:r.displayName,picture:r.picture,score:r.score},e)},r.userID)}))})})]})}},9140:function(r,e,n){n.d(e,{Z:function(){return _}});var t=n(1413),a=n(5987),o=n(1694),i=n.n(o),u=n(2791),c=n(162),s=n(6543),d=n(7472),l=n(184),f=["bsPrefix","className","variant","as"],v=u.forwardRef((function(r,e){var n=r.bsPrefix,o=r.className,u=r.variant,s=r.as,d=void 0===s?"img":s,v=(0,a.Z)(r,f),m=(0,c.vE)(n,"card-img");return(0,l.jsx)(d,(0,t.Z)({ref:e,className:i()(u?"".concat(m,"-").concat(u):m,o)},v))}));v.displayName="CardImg";var m=v,h=n(6040),x=["bsPrefix","className","as"],p=u.forwardRef((function(r,e){var n=r.bsPrefix,o=r.className,s=r.as,d=void 0===s?"div":s,f=(0,a.Z)(r,x),v=(0,c.vE)(n,"card-header"),m=(0,u.useMemo)((function(){return{cardHeaderBsPrefix:v}}),[v]);return(0,l.jsx)(h.Z.Provider,{value:m,children:(0,l.jsx)(d,(0,t.Z)((0,t.Z)({ref:e},f),{},{className:i()(o,v)}))})}));p.displayName="CardHeader";var g=p,y=["bsPrefix","className","bg","text","border","body","children","as"],b=(0,d.Z)("h5"),Z=(0,d.Z)("h6"),N=(0,s.Z)("card-body"),j=(0,s.Z)("card-title",{Component:b}),I=(0,s.Z)("card-subtitle",{Component:Z}),w=(0,s.Z)("card-link",{Component:"a"}),k=(0,s.Z)("card-text",{Component:"p"}),E=(0,s.Z)("card-footer"),C=(0,s.Z)("card-img-overlay"),R=u.forwardRef((function(r,e){var n=r.bsPrefix,o=r.className,u=r.bg,s=r.text,d=r.border,f=r.body,v=r.children,m=r.as,h=void 0===m?"div":m,x=(0,a.Z)(r,y),p=(0,c.vE)(n,"card");return(0,l.jsx)(h,(0,t.Z)((0,t.Z)({ref:e},x),{},{className:i()(o,p,u&&"bg-".concat(u),s&&"text-".concat(s),d&&"border-".concat(d)),children:f?(0,l.jsx)(N,{children:v}):v}))}));R.displayName="Card",R.defaultProps={body:!1};var _=Object.assign(R,{Img:m,Title:j,Subtitle:I,Body:N,Link:w,Text:k,Header:g,Footer:E,ImgOverlay:C})}}]);
//# sourceMappingURL=257.f13101a2.chunk.js.map